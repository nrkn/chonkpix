export const cached = (hash, create) => {
    const cache = new Map();
    return (value) => {
        const key = hash(value);
        let result = cache.get(key);
        if (result !== undefined)
            return result;
        result = create(value);
        cache.set(key, result);
        return result;
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FjaGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2FuZGJveC9jYWNoZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FDcEIsSUFBd0IsRUFDeEIsTUFBNEIsRUFDNUIsRUFBRTtJQUNGLE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxFQUFnQixDQUFBO0lBRXJDLE9BQU8sQ0FBQyxLQUFRLEVBQUUsRUFBRTtRQUNsQixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUE7UUFFdkIsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUUzQixJQUFJLE1BQU0sS0FBSyxTQUFTO1lBQUUsT0FBTyxNQUFNLENBQUE7UUFFdkMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUN0QixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUV0QixPQUFPLE1BQU0sQ0FBQTtJQUNmLENBQUMsQ0FBQTtBQUNILENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjYWNoZWQgPSA8VCwgSGFzaCwgUmVzdWx0PihcbiAgaGFzaDogKHZhbHVlOiBUKSA9PiBIYXNoLFxuICBjcmVhdGU6ICh2YWx1ZTogVCkgPT4gUmVzdWx0XG4pID0+IHtcbiAgY29uc3QgY2FjaGUgPSBuZXcgTWFwPEhhc2gsIFJlc3VsdD4oKVxuXG4gIHJldHVybiAodmFsdWU6IFQpID0+IHtcbiAgICBjb25zdCBrZXkgPSBoYXNoKHZhbHVlKVxuXG4gICAgbGV0IHJlc3VsdCA9IGNhY2hlLmdldChrZXkpXG5cbiAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHJldHVybiByZXN1bHRcblxuICAgIHJlc3VsdCA9IGNyZWF0ZSh2YWx1ZSlcbiAgICBjYWNoZS5zZXQoa2V5LCByZXN1bHQpXG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cbiJdfQ==