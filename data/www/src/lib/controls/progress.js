import { createColor } from '../image/color.js';
import { fill } from '../image/fill.js';
import { wait } from '../util.js';
export const progressControl = (buffer, total, [px, py, pw, ph], bg = createColor(0x66, 0x66, 0x66), fg = createColor(0x33, 0x99, 0xff)) => {
    const step = pw / total;
    return async (i) => {
        fill(buffer, bg, [px, py, pw, ph]);
        const width = Math.round(step * i);
        fill(buffer, fg, [px, pw, width, ph]);
        await wait();
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZ3Jlc3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbnRyb2xzL3Byb2dyZXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQTtBQUMvQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFFdkMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFlBQVksQ0FBQTtBQUVqQyxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsQ0FDN0IsTUFBaUIsRUFDakIsS0FBYSxFQUNiLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFLLEVBQ3BCLEVBQUUsR0FBRyxXQUFXLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsRUFDbEMsRUFBRSxHQUFHLFdBQVcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUNsQyxFQUFFO0lBQ0YsTUFBTSxJQUFJLEdBQUcsRUFBRSxHQUFHLEtBQUssQ0FBQTtJQUV2QixPQUFPLEtBQUssRUFBRSxDQUFTLEVBQUUsRUFBRTtRQUN6QixJQUFJLENBQ0YsTUFBTSxFQUNOLEVBQUUsRUFDRixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUNqQixDQUFBO1FBRUQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUE7UUFFbEMsSUFBSSxDQUNGLE1BQU0sRUFDTixFQUFFLEVBQ0YsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FDcEIsQ0FBQTtRQUVELE1BQU0sSUFBSSxFQUFFLENBQUE7SUFDZCxDQUFDLENBQUE7QUFDSCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb2xvciB9IGZyb20gJy4uL2ltYWdlL2NvbG9yLmpzJ1xuaW1wb3J0IHsgZmlsbCB9IGZyb20gJy4uL2ltYWdlL2ZpbGwuanMnXG5pbXBvcnQgeyBUNCB9IGZyb20gJy4uL3R5cGVzLmpzJ1xuaW1wb3J0IHsgd2FpdCB9IGZyb20gJy4uL3V0aWwuanMnXG5cbmV4cG9ydCBjb25zdCBwcm9ncmVzc0NvbnRyb2wgPSAoXG4gIGJ1ZmZlcjogSW1hZ2VEYXRhLFxuICB0b3RhbDogbnVtYmVyLFxuICBbcHgsIHB5LCBwdywgcGhdOiBUNCxcbiAgYmcgPSBjcmVhdGVDb2xvcigweDY2LCAweDY2LCAweDY2KSxcbiAgZmcgPSBjcmVhdGVDb2xvcigweDMzLCAweDk5LCAweGZmKVxuKSA9PiB7XG4gIGNvbnN0IHN0ZXAgPSBwdyAvIHRvdGFsXG5cbiAgcmV0dXJuIGFzeW5jIChpOiBudW1iZXIpID0+IHtcbiAgICBmaWxsKFxuICAgICAgYnVmZmVyLFxuICAgICAgYmcsXG4gICAgICBbcHgsIHB5LCBwdywgcGhdXG4gICAgKVxuXG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLnJvdW5kKHN0ZXAgKiBpKVxuXG4gICAgZmlsbChcbiAgICAgIGJ1ZmZlcixcbiAgICAgIGZnLFxuICAgICAgW3B4LCBwdywgd2lkdGgsIHBoXVxuICAgIClcblxuICAgIGF3YWl0IHdhaXQoKVxuICB9XG59Il19