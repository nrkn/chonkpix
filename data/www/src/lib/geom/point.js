export const ensurePointBounds = (rect, mode) => {
    const [rx, ry, rw, rh] = rect;
    const rx2 = rx + rw;
    const ry2 = ry + rh;
    return (pts) => {
        if (mode === 'none')
            return pts;
        if (mode === 'clamp') {
            return pts.filter(([x, y]) => x >= rx && x < rx2 && y >= ry && y < ry2);
        }
        if (mode === 'wrap') {
            return pts.map(([x, y]) => {
                return [
                    (x - rx) % rw + rx,
                    (y - ry) % rh + ry
                ];
            });
        }
        throw Error(`Invalid mode: ${mode}`);
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9pbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL2dlb20vcG9pbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FDL0IsSUFBUSxFQUFFLElBQW9CLEVBQzlCLEVBQUU7SUFDRixNQUFNLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFBO0lBRTdCLE1BQU0sR0FBRyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUE7SUFDbkIsTUFBTSxHQUFHLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQTtJQUVuQixPQUFPLENBQUMsR0FBUyxFQUFRLEVBQUU7UUFDekIsSUFBSSxJQUFJLEtBQUssTUFBTTtZQUFFLE9BQU8sR0FBRyxDQUFBO1FBRS9CLElBQUksSUFBSSxLQUFLLE9BQU8sRUFBRSxDQUFDO1lBQ3JCLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUE7UUFDekUsQ0FBQztRQUVELElBQUksSUFBSSxLQUFLLE1BQU0sRUFBRSxDQUFDO1lBQ3BCLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3hCLE9BQU87b0JBQ0wsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUU7b0JBQ2xCLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFO2lCQUNuQixDQUFBO1lBQ0gsQ0FBQyxDQUFDLENBQUE7UUFDSixDQUFDO1FBRUQsTUFBTSxLQUFLLENBQUMsaUJBQWlCLElBQUksRUFBRSxDQUFDLENBQUE7SUFDdEMsQ0FBQyxDQUFBO0FBQ0gsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVDIsIFQ0IH0gZnJvbSAnLi4vdHlwZXMuanMnXG5pbXBvcnQgeyBCb3VuZHNIYW5kbGluZyB9IGZyb20gJy4vdHlwZXMuanMnXG5cbmV4cG9ydCBjb25zdCBlbnN1cmVQb2ludEJvdW5kcyA9IChcbiAgcmVjdDogVDQsIG1vZGU6IEJvdW5kc0hhbmRsaW5nXG4pID0+IHtcbiAgY29uc3QgW3J4LCByeSwgcncsIHJoXSA9IHJlY3RcblxuICBjb25zdCByeDIgPSByeCArIHJ3XG4gIGNvbnN0IHJ5MiA9IHJ5ICsgcmhcblxuICByZXR1cm4gKHB0czogVDJbXSk6IFQyW10gPT4ge1xuICAgIGlmIChtb2RlID09PSAnbm9uZScpIHJldHVybiBwdHNcblxuICAgIGlmIChtb2RlID09PSAnY2xhbXAnKSB7XG4gICAgICByZXR1cm4gcHRzLmZpbHRlcigoW3gsIHldKSA9PiB4ID49IHJ4ICYmIHggPCByeDIgJiYgeSA+PSByeSAmJiB5IDwgcnkyKVxuICAgIH1cblxuICAgIGlmIChtb2RlID09PSAnd3JhcCcpIHtcbiAgICAgIHJldHVybiBwdHMubWFwKChbeCwgeV0pID0+IHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAoeCAtIHJ4KSAlIHJ3ICsgcngsXG4gICAgICAgICAgKHkgLSByeSkgJSByaCArIHJ5XG4gICAgICAgIF1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdGhyb3cgRXJyb3IoYEludmFsaWQgbW9kZTogJHttb2RlfWApXG4gIH1cbn0iXX0=