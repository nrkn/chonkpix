export const maybe = (value) => value !== null && value !== undefined;
export const assrt = (value, message = 'Expected value, saw null or undefined') => {
    if (maybe(value))
        return value;
    throw Error(message);
};
export const assrtInt = (value, message = `Expected integer, saw ${value}`) => {
    if (!Number.isInteger(value))
        throw Error(message);
    return value;
};
export const assrtPositive = (value, message = `Expected positive number, saw ${value}`) => {
    if (value < 0)
        throw Error(message);
    return value;
};
// tuple factories
export const t2Factory = (defaultValue) => (a = defaultValue, b = a) => [a, b];
export const t3Factory = (defaultValue) => (a = defaultValue, b = a, c = a) => [a, b, c];
export const t4Factory = (defaultValue) => (a = defaultValue, b = a, c = a, d = a) => [a, b, c, d];
export const t5Factory = (defaultValue) => (a = defaultValue, b = a, c = a, d = a, e = a) => [a, b, c, d, e];
export const t6Factory = (defaultValue) => (a = defaultValue, b = a, c = a, d = a, e = a, f = a) => [
    a, b, c, d, e, f
];
export const t7Factory = (defaultValue) => (a = defaultValue, b = a, c = a, d = a, e = a, f = a, g = a) => [
    a, b, c, d, e, f, g
];
export const t8Factory = (defaultValue) => (a = defaultValue, b = a, c = a, d = a, e = a, f = a, g = a, h = a) => [a, b, c, d, e, f, g, h];
// for number tuples
export const t2N = t2Factory(0);
export const t3N = t3Factory(0);
export const t4N = t4Factory(0);
export const t5N = t5Factory(0);
export const t6N = t6Factory(0);
export const t7N = t7Factory(0);
export const t8N = t8Factory(0);
export const lerp = (a, b, t) => a + (b - a) * t;
export const wait = (ms = 0) => new Promise(resolve => setTimeout(resolve, ms));
export const orientation = (w, h) => w >= h ? 'landscape' : 'portrait';
// for debugging - eg when inside a raf - we only want first few logs, not for
// it to keep spewing multiple logs out every frame
export const limitedLogger = (maxLogs = 10, logger = console.log) => {
    let logs = 0;
    let paused = false;
    const pause = () => {
        paused = true;
    };
    const resume = () => {
        paused = false;
    };
    const reset = (max = 10) => {
        maxLogs = max;
        logs = 0;
    };
    const log = (...data) => {
        if (paused || (logs >= maxLogs)) {
            return;
        }
        logger(logs, ...data);
        logs++;
    };
    return { pause, resume, reset, log };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvdXRpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsQ0FBSSxLQUFlLEVBQWMsRUFBRSxDQUN0RCxLQUFLLEtBQUssSUFBSSxJQUFJLEtBQUssS0FBSyxTQUFTLENBQUE7QUFFdkMsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLENBQ25CLEtBQWUsRUFBRSxPQUFPLEdBQUcsdUNBQXVDLEVBQy9ELEVBQUU7SUFDTCxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFBRSxPQUFPLEtBQUssQ0FBQTtJQUU5QixNQUFNLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUN0QixDQUFDLENBQUE7QUFFRCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FDdEIsS0FBYSxFQUFFLE9BQU8sR0FBRyx5QkFBeUIsS0FBSyxFQUFFLEVBQ2pELEVBQUU7SUFDVixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFBRSxNQUFNLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUVsRCxPQUFPLEtBQUssQ0FBQTtBQUNkLENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUMzQixLQUFhLEVBQUUsT0FBTyxHQUFHLGlDQUFpQyxLQUFLLEVBQUUsRUFDekQsRUFBRTtJQUNWLElBQUksS0FBSyxHQUFHLENBQUM7UUFBRSxNQUFNLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUVuQyxPQUFPLEtBQUssQ0FBQTtBQUNkLENBQUMsQ0FBQTtBQUVELGtCQUFrQjtBQUNsQixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBSSxZQUFlLEVBQUUsRUFBRSxDQUM5QyxDQUFDLENBQUMsR0FBRyxZQUFZLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFFNUMsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUksWUFBZSxFQUFFLEVBQUUsQ0FDOUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO0FBRXRELE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFJLFlBQWUsRUFBRSxFQUFFLENBQzlDLENBQUMsQ0FBQyxHQUFHLFlBQVksRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtBQUVoRSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBSSxZQUFlLEVBQUUsRUFBRSxDQUM5QyxDQUFDLENBQUMsR0FBRyxZQUFZLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFFMUUsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUksWUFBZSxFQUFFLEVBQUUsQ0FDOUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBUyxFQUFFLENBQUM7SUFDOUQsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0NBQ2pCLENBQUE7QUFFSCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBSSxZQUFlLEVBQUUsRUFBRSxDQUM5QyxDQUFDLENBQUMsR0FBRyxZQUFZLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQVMsRUFBRSxDQUFDO0lBQ3JFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7Q0FDcEIsQ0FBQTtBQUVILE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFJLFlBQWUsRUFBRSxFQUFFLENBQzlDLENBQUMsQ0FBQyxHQUFHLFlBQVksRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFTLEVBQUUsQ0FDM0UsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFFNUIsb0JBQW9CO0FBQ3BCLE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDL0IsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUMvQixNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQy9CLE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDL0IsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUMvQixNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQy9CLE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFFL0IsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7QUFFeEUsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFFL0UsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBUyxFQUFFLENBQVMsRUFBZSxFQUFFLENBQy9ELENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFBO0FBRW5DLDhFQUE4RTtBQUM5RSxtREFBbUQ7QUFDbkQsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsT0FBTyxHQUFHLEVBQUUsRUFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFO0lBQ2xFLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQTtJQUNaLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQTtJQUVsQixNQUFNLEtBQUssR0FBRyxHQUFHLEVBQUU7UUFDakIsTUFBTSxHQUFHLElBQUksQ0FBQTtJQUNmLENBQUMsQ0FBQTtJQUVELE1BQU0sTUFBTSxHQUFHLEdBQUcsRUFBRTtRQUNsQixNQUFNLEdBQUcsS0FBSyxDQUFBO0lBQ2hCLENBQUMsQ0FBQTtJQUVELE1BQU0sS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLEVBQUUsRUFBRSxFQUFFO1FBQ3pCLE9BQU8sR0FBRyxHQUFHLENBQUE7UUFDYixJQUFJLEdBQUcsQ0FBQyxDQUFBO0lBQ1YsQ0FBQyxDQUFBO0lBRUQsTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQVcsRUFBRSxFQUFFO1FBQzdCLElBQUksTUFBTSxJQUFJLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxFQUFFLENBQUM7WUFDaEMsT0FBTTtRQUNSLENBQUM7UUFFRCxNQUFNLENBQUMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUE7UUFDckIsSUFBSSxFQUFFLENBQUE7SUFDUixDQUFDLENBQUE7SUFFRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLENBQUE7QUFDdEMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWF5YmUsIE9yaWVudGF0aW9uLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCB9IGZyb20gJy4vdHlwZXMuanMnXHJcblxyXG5leHBvcnQgY29uc3QgbWF5YmUgPSA8VD4odmFsdWU6IE1heWJlPFQ+KTogdmFsdWUgaXMgVCA9PlxyXG4gIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWRcclxuXHJcbmV4cG9ydCBjb25zdCBhc3NydCA9IDxUPihcclxuICB2YWx1ZTogTWF5YmU8VD4sIG1lc3NhZ2UgPSAnRXhwZWN0ZWQgdmFsdWUsIHNhdyBudWxsIG9yIHVuZGVmaW5lZCdcclxuKTogVCA9PiB7XHJcbiAgaWYgKG1heWJlKHZhbHVlKSkgcmV0dXJuIHZhbHVlXHJcblxyXG4gIHRocm93IEVycm9yKG1lc3NhZ2UpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhc3NydEludCA9IChcclxuICB2YWx1ZTogbnVtYmVyLCBtZXNzYWdlID0gYEV4cGVjdGVkIGludGVnZXIsIHNhdyAke3ZhbHVlfWBcclxuKTogbnVtYmVyID0+IHtcclxuICBpZiAoIU51bWJlci5pc0ludGVnZXIodmFsdWUpKSB0aHJvdyBFcnJvcihtZXNzYWdlKVxyXG5cclxuICByZXR1cm4gdmFsdWVcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGFzc3J0UG9zaXRpdmUgPSAoXHJcbiAgdmFsdWU6IG51bWJlciwgbWVzc2FnZSA9IGBFeHBlY3RlZCBwb3NpdGl2ZSBudW1iZXIsIHNhdyAke3ZhbHVlfWBcclxuKTogbnVtYmVyID0+IHtcclxuICBpZiAodmFsdWUgPCAwKSB0aHJvdyBFcnJvcihtZXNzYWdlKVxyXG5cclxuICByZXR1cm4gdmFsdWVcclxufVxyXG5cclxuLy8gdHVwbGUgZmFjdG9yaWVzXHJcbmV4cG9ydCBjb25zdCB0MkZhY3RvcnkgPSA8VD4oZGVmYXVsdFZhbHVlOiBUKSA9PlxyXG4gIChhID0gZGVmYXVsdFZhbHVlLCBiID0gYSk6IFQyPFQ+ID0+IFthLCBiXVxyXG5cclxuZXhwb3J0IGNvbnN0IHQzRmFjdG9yeSA9IDxUPihkZWZhdWx0VmFsdWU6IFQpID0+XHJcbiAgKGEgPSBkZWZhdWx0VmFsdWUsIGIgPSBhLCBjID0gYSk6IFQzPFQ+ID0+IFthLCBiLCBjXVxyXG5cclxuZXhwb3J0IGNvbnN0IHQ0RmFjdG9yeSA9IDxUPihkZWZhdWx0VmFsdWU6IFQpID0+XHJcbiAgKGEgPSBkZWZhdWx0VmFsdWUsIGIgPSBhLCBjID0gYSwgZCA9IGEpOiBUNDxUPiA9PiBbYSwgYiwgYywgZF1cclxuXHJcbmV4cG9ydCBjb25zdCB0NUZhY3RvcnkgPSA8VD4oZGVmYXVsdFZhbHVlOiBUKSA9PlxyXG4gIChhID0gZGVmYXVsdFZhbHVlLCBiID0gYSwgYyA9IGEsIGQgPSBhLCBlID0gYSk6IFQ1PFQ+ID0+IFthLCBiLCBjLCBkLCBlXVxyXG5cclxuZXhwb3J0IGNvbnN0IHQ2RmFjdG9yeSA9IDxUPihkZWZhdWx0VmFsdWU6IFQpID0+XHJcbiAgKGEgPSBkZWZhdWx0VmFsdWUsIGIgPSBhLCBjID0gYSwgZCA9IGEsIGUgPSBhLCBmID0gYSk6IFQ2PFQ+ID0+IFtcclxuICAgIGEsIGIsIGMsIGQsIGUsIGZcclxuICBdXHJcblxyXG5leHBvcnQgY29uc3QgdDdGYWN0b3J5ID0gPFQ+KGRlZmF1bHRWYWx1ZTogVCkgPT5cclxuICAoYSA9IGRlZmF1bHRWYWx1ZSwgYiA9IGEsIGMgPSBhLCBkID0gYSwgZSA9IGEsIGYgPSBhLCBnID0gYSk6IFQ3PFQ+ID0+IFtcclxuICAgIGEsIGIsIGMsIGQsIGUsIGYsIGdcclxuICBdXHJcblxyXG5leHBvcnQgY29uc3QgdDhGYWN0b3J5ID0gPFQ+KGRlZmF1bHRWYWx1ZTogVCkgPT5cclxuICAoYSA9IGRlZmF1bHRWYWx1ZSwgYiA9IGEsIGMgPSBhLCBkID0gYSwgZSA9IGEsIGYgPSBhLCBnID0gYSwgaCA9IGEpOiBUODxUPiA9PlxyXG4gICAgW2EsIGIsIGMsIGQsIGUsIGYsIGcsIGhdXHJcblxyXG4vLyBmb3IgbnVtYmVyIHR1cGxlc1xyXG5leHBvcnQgY29uc3QgdDJOID0gdDJGYWN0b3J5KDApXHJcbmV4cG9ydCBjb25zdCB0M04gPSB0M0ZhY3RvcnkoMClcclxuZXhwb3J0IGNvbnN0IHQ0TiA9IHQ0RmFjdG9yeSgwKVxyXG5leHBvcnQgY29uc3QgdDVOID0gdDVGYWN0b3J5KDApXHJcbmV4cG9ydCBjb25zdCB0Nk4gPSB0NkZhY3RvcnkoMClcclxuZXhwb3J0IGNvbnN0IHQ3TiA9IHQ3RmFjdG9yeSgwKVxyXG5leHBvcnQgY29uc3QgdDhOID0gdDhGYWN0b3J5KDApXHJcblxyXG5leHBvcnQgY29uc3QgbGVycCA9IChhOiBudW1iZXIsIGI6IG51bWJlciwgdDogbnVtYmVyKSA9PiBhICsgKGIgLSBhKSAqIHRcclxuXHJcbmV4cG9ydCBjb25zdCB3YWl0ID0gKG1zID0gMCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSlcclxuXHJcbmV4cG9ydCBjb25zdCBvcmllbnRhdGlvbiA9ICh3OiBudW1iZXIsIGg6IG51bWJlcik6IE9yaWVudGF0aW9uID0+XHJcbiAgdyA+PSBoID8gJ2xhbmRzY2FwZScgOiAncG9ydHJhaXQnXHJcblxyXG4vLyBmb3IgZGVidWdnaW5nIC0gZWcgd2hlbiBpbnNpZGUgYSByYWYgLSB3ZSBvbmx5IHdhbnQgZmlyc3QgZmV3IGxvZ3MsIG5vdCBmb3JcclxuLy8gaXQgdG8ga2VlcCBzcGV3aW5nIG11bHRpcGxlIGxvZ3Mgb3V0IGV2ZXJ5IGZyYW1lXHJcbmV4cG9ydCBjb25zdCBsaW1pdGVkTG9nZ2VyID0gKG1heExvZ3MgPSAxMCwgbG9nZ2VyID0gY29uc29sZS5sb2cpID0+IHtcclxuICBsZXQgbG9ncyA9IDBcclxuICBsZXQgcGF1c2VkID0gZmFsc2VcclxuXHJcbiAgY29uc3QgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICBwYXVzZWQgPSB0cnVlXHJcbiAgfVxyXG5cclxuICBjb25zdCByZXN1bWUgPSAoKSA9PiB7XHJcbiAgICBwYXVzZWQgPSBmYWxzZVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzZXQgPSAobWF4ID0gMTApID0+IHtcclxuICAgIG1heExvZ3MgPSBtYXhcclxuICAgIGxvZ3MgPSAwXHJcbiAgfVxyXG5cclxuICBjb25zdCBsb2cgPSAoLi4uZGF0YTogYW55W10pID0+IHtcclxuICAgIGlmIChwYXVzZWQgfHwgKGxvZ3MgPj0gbWF4TG9ncykpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgbG9nZ2VyKGxvZ3MsIC4uLmRhdGEpXHJcbiAgICBsb2dzKytcclxuICB9XHJcblxyXG4gIHJldHVybiB7IHBhdXNlLCByZXN1bWUsIHJlc2V0LCBsb2cgfVxyXG59XHJcbiJdfQ==