export const maybe = (value) => value !== null && value !== undefined;
export const assrt = (value, message = 'Expected value, saw null or undefined') => {
    if (maybe(value))
        return value;
    throw Error(message);
};
export const assrtInt = (value, message = `Expected integer, saw ${value}`) => {
    if (!Number.isInteger(value))
        throw Error(message);
    return value;
};
export const assrtPositive = (value, message = `Expected positive number, saw ${value}`) => {
    if (value < 0)
        throw Error(message);
    return value;
};
// tuple factories
export const t2Factory = (defaultValue) => (a = defaultValue, b = a) => [a, b];
export const t3Factory = (defaultValue) => (a = defaultValue, b = a, c = a) => [a, b, c];
export const t4Factory = (defaultValue) => (a = defaultValue, b = a, c = a, d = a) => [a, b, c, d];
export const t5Factory = (defaultValue) => (a = defaultValue, b = a, c = a, d = a, e = a) => [a, b, c, d, e];
export const t6Factory = (defaultValue) => (a = defaultValue, b = a, c = a, d = a, e = a, f = a) => [
    a, b, c, d, e, f
];
// for number tuples
export const t2N = t2Factory(0);
export const t3N = t3Factory(0);
export const t4N = t4Factory(0);
export const t5N = t5Factory(0);
export const t6N = t6Factory(0);
export const lerp = (a, b, t) => a + (b - a) * t;
export const wait = (ms = 0) => new Promise(resolve => setTimeout(resolve, ms));
export const orientation = (w, h) => w >= h ? 'landscape' : 'portrait';
// for debugging - eg when inside a raf - we only want first few logs, not for
// it to keep spewing multiple logs out every frame
export const limitedLogger = (maxLogs = 10, logger = console.log) => {
    let logs = 0;
    let paused = false;
    const pause = () => {
        paused = true;
    };
    const resume = () => {
        paused = false;
    };
    const reset = (max = 10) => {
        maxLogs = max;
        logs = 0;
    };
    const log = (...data) => {
        if (paused || (logs >= maxLogs)) {
            return;
        }
        logger(logs, ...data);
        logs++;
    };
    return { pause, resume, reset, log };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvdXRpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsQ0FBSSxLQUFlLEVBQWMsRUFBRSxDQUN0RCxLQUFLLEtBQUssSUFBSSxJQUFJLEtBQUssS0FBSyxTQUFTLENBQUE7QUFFdkMsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLENBQ25CLEtBQWUsRUFBRSxPQUFPLEdBQUcsdUNBQXVDLEVBQy9ELEVBQUU7SUFDTCxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFBRSxPQUFPLEtBQUssQ0FBQTtJQUU5QixNQUFNLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUN0QixDQUFDLENBQUE7QUFFRCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FDdEIsS0FBYSxFQUFFLE9BQU8sR0FBRyx5QkFBeUIsS0FBSyxFQUFFLEVBQ2pELEVBQUU7SUFDVixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFBRSxNQUFNLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUVsRCxPQUFPLEtBQUssQ0FBQTtBQUNkLENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUMzQixLQUFhLEVBQUUsT0FBTyxHQUFHLGlDQUFpQyxLQUFLLEVBQUUsRUFDekQsRUFBRTtJQUNWLElBQUksS0FBSyxHQUFHLENBQUM7UUFBRSxNQUFNLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUVuQyxPQUFPLEtBQUssQ0FBQTtBQUNkLENBQUMsQ0FBQTtBQUVELGtCQUFrQjtBQUNsQixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBSSxZQUFlLEVBQUUsRUFBRSxDQUM5QyxDQUFDLENBQUMsR0FBRyxZQUFZLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFFNUMsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUksWUFBZSxFQUFFLEVBQUUsQ0FDOUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO0FBRXRELE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFJLFlBQWUsRUFBRSxFQUFFLENBQzlDLENBQUMsQ0FBQyxHQUFHLFlBQVksRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtBQUVoRSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBSSxZQUFlLEVBQUUsRUFBRSxDQUM5QyxDQUFDLENBQUMsR0FBRyxZQUFZLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFFMUUsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUksWUFBZSxFQUFFLEVBQUUsQ0FDOUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBUyxFQUFFLENBQUM7SUFDOUQsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0NBQ2pCLENBQUE7QUFFSCxvQkFBb0I7QUFDcEIsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUMvQixNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQy9CLE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDL0IsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUMvQixNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBRS9CLE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBRXhFLE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFBO0FBRS9FLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLENBQVMsRUFBRSxDQUFTLEVBQWUsRUFBRSxDQUMvRCxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQTtBQUVuQyw4RUFBOEU7QUFDOUUsbURBQW1EO0FBQ25ELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUFDLE9BQU8sR0FBRyxFQUFFLEVBQUUsTUFBTSxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUNsRSxJQUFJLElBQUksR0FBRyxDQUFDLENBQUE7SUFDWixJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUE7SUFFbEIsTUFBTSxLQUFLLEdBQUcsR0FBRyxFQUFFO1FBQ2pCLE1BQU0sR0FBRyxJQUFJLENBQUE7SUFDZixDQUFDLENBQUE7SUFFRCxNQUFNLE1BQU0sR0FBRyxHQUFHLEVBQUU7UUFDbEIsTUFBTSxHQUFHLEtBQUssQ0FBQTtJQUNoQixDQUFDLENBQUE7SUFFRCxNQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxFQUFFLEVBQUUsRUFBRTtRQUN6QixPQUFPLEdBQUcsR0FBRyxDQUFBO1FBQ2IsSUFBSSxHQUFHLENBQUMsQ0FBQTtJQUNWLENBQUMsQ0FBQTtJQUVELE1BQU0sR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFXLEVBQUUsRUFBRTtRQUM3QixJQUFJLE1BQU0sSUFBSSxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsRUFBRSxDQUFDO1lBQ2hDLE9BQU07UUFDUixDQUFDO1FBRUQsTUFBTSxDQUFDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFBO1FBQ3JCLElBQUksRUFBRSxDQUFBO0lBQ1IsQ0FBQyxDQUFBO0lBRUQsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFBO0FBQ3RDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1heWJlLCBPcmllbnRhdGlvbiwgVDIsIFQzLCBUNCwgVDUsIFQ2IH0gZnJvbSAnLi90eXBlcy5qcydcclxuXHJcbmV4cG9ydCBjb25zdCBtYXliZSA9IDxUPih2YWx1ZTogTWF5YmU8VD4pOiB2YWx1ZSBpcyBUID0+XHJcbiAgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZFxyXG5cclxuZXhwb3J0IGNvbnN0IGFzc3J0ID0gPFQ+KFxyXG4gIHZhbHVlOiBNYXliZTxUPiwgbWVzc2FnZSA9ICdFeHBlY3RlZCB2YWx1ZSwgc2F3IG51bGwgb3IgdW5kZWZpbmVkJ1xyXG4pOiBUID0+IHtcclxuICBpZiAobWF5YmUodmFsdWUpKSByZXR1cm4gdmFsdWVcclxuXHJcbiAgdGhyb3cgRXJyb3IobWVzc2FnZSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGFzc3J0SW50ID0gKFxyXG4gIHZhbHVlOiBudW1iZXIsIG1lc3NhZ2UgPSBgRXhwZWN0ZWQgaW50ZWdlciwgc2F3ICR7dmFsdWV9YFxyXG4pOiBudW1iZXIgPT4ge1xyXG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpIHRocm93IEVycm9yKG1lc3NhZ2UpXHJcblxyXG4gIHJldHVybiB2YWx1ZVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXNzcnRQb3NpdGl2ZSA9IChcclxuICB2YWx1ZTogbnVtYmVyLCBtZXNzYWdlID0gYEV4cGVjdGVkIHBvc2l0aXZlIG51bWJlciwgc2F3ICR7dmFsdWV9YFxyXG4pOiBudW1iZXIgPT4ge1xyXG4gIGlmICh2YWx1ZSA8IDApIHRocm93IEVycm9yKG1lc3NhZ2UpXHJcblxyXG4gIHJldHVybiB2YWx1ZVxyXG59XHJcblxyXG4vLyB0dXBsZSBmYWN0b3JpZXNcclxuZXhwb3J0IGNvbnN0IHQyRmFjdG9yeSA9IDxUPihkZWZhdWx0VmFsdWU6IFQpID0+XHJcbiAgKGEgPSBkZWZhdWx0VmFsdWUsIGIgPSBhKTogVDI8VD4gPT4gW2EsIGJdXHJcblxyXG5leHBvcnQgY29uc3QgdDNGYWN0b3J5ID0gPFQ+KGRlZmF1bHRWYWx1ZTogVCkgPT5cclxuICAoYSA9IGRlZmF1bHRWYWx1ZSwgYiA9IGEsIGMgPSBhKTogVDM8VD4gPT4gW2EsIGIsIGNdXHJcblxyXG5leHBvcnQgY29uc3QgdDRGYWN0b3J5ID0gPFQ+KGRlZmF1bHRWYWx1ZTogVCkgPT5cclxuICAoYSA9IGRlZmF1bHRWYWx1ZSwgYiA9IGEsIGMgPSBhLCBkID0gYSk6IFQ0PFQ+ID0+IFthLCBiLCBjLCBkXVxyXG5cclxuZXhwb3J0IGNvbnN0IHQ1RmFjdG9yeSA9IDxUPihkZWZhdWx0VmFsdWU6IFQpID0+XHJcbiAgKGEgPSBkZWZhdWx0VmFsdWUsIGIgPSBhLCBjID0gYSwgZCA9IGEsIGUgPSBhKTogVDU8VD4gPT4gW2EsIGIsIGMsIGQsIGVdXHJcblxyXG5leHBvcnQgY29uc3QgdDZGYWN0b3J5ID0gPFQ+KGRlZmF1bHRWYWx1ZTogVCkgPT5cclxuICAoYSA9IGRlZmF1bHRWYWx1ZSwgYiA9IGEsIGMgPSBhLCBkID0gYSwgZSA9IGEsIGYgPSBhKTogVDY8VD4gPT4gW1xyXG4gICAgYSwgYiwgYywgZCwgZSwgZlxyXG4gIF1cclxuXHJcbi8vIGZvciBudW1iZXIgdHVwbGVzXHJcbmV4cG9ydCBjb25zdCB0Mk4gPSB0MkZhY3RvcnkoMClcclxuZXhwb3J0IGNvbnN0IHQzTiA9IHQzRmFjdG9yeSgwKVxyXG5leHBvcnQgY29uc3QgdDROID0gdDRGYWN0b3J5KDApXHJcbmV4cG9ydCBjb25zdCB0NU4gPSB0NUZhY3RvcnkoMClcclxuZXhwb3J0IGNvbnN0IHQ2TiA9IHQ2RmFjdG9yeSgwKVxyXG5cclxuZXhwb3J0IGNvbnN0IGxlcnAgPSAoYTogbnVtYmVyLCBiOiBudW1iZXIsIHQ6IG51bWJlcikgPT4gYSArIChiIC0gYSkgKiB0XHJcblxyXG5leHBvcnQgY29uc3Qgd2FpdCA9IChtcyA9IDApID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpXHJcblxyXG5leHBvcnQgY29uc3Qgb3JpZW50YXRpb24gPSAodzogbnVtYmVyLCBoOiBudW1iZXIpOiBPcmllbnRhdGlvbiA9PlxyXG4gIHcgPj0gaCA/ICdsYW5kc2NhcGUnIDogJ3BvcnRyYWl0J1xyXG5cclxuLy8gZm9yIGRlYnVnZ2luZyAtIGVnIHdoZW4gaW5zaWRlIGEgcmFmIC0gd2Ugb25seSB3YW50IGZpcnN0IGZldyBsb2dzLCBub3QgZm9yXHJcbi8vIGl0IHRvIGtlZXAgc3Bld2luZyBtdWx0aXBsZSBsb2dzIG91dCBldmVyeSBmcmFtZVxyXG5leHBvcnQgY29uc3QgbGltaXRlZExvZ2dlciA9IChtYXhMb2dzID0gMTAsIGxvZ2dlciA9IGNvbnNvbGUubG9nKSA9PiB7XHJcbiAgbGV0IGxvZ3MgPSAwXHJcbiAgbGV0IHBhdXNlZCA9IGZhbHNlXHJcblxyXG4gIGNvbnN0IHBhdXNlID0gKCkgPT4ge1xyXG4gICAgcGF1c2VkID0gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzdW1lID0gKCkgPT4ge1xyXG4gICAgcGF1c2VkID0gZmFsc2VcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlc2V0ID0gKG1heCA9IDEwKSA9PiB7XHJcbiAgICBtYXhMb2dzID0gbWF4XHJcbiAgICBsb2dzID0gMFxyXG4gIH1cclxuXHJcbiAgY29uc3QgbG9nID0gKC4uLmRhdGE6IGFueVtdKSA9PiB7XHJcbiAgICBpZiAocGF1c2VkIHx8IChsb2dzID49IG1heExvZ3MpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGxvZ2dlcihsb2dzLCAuLi5kYXRhKVxyXG4gICAgbG9ncysrXHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBwYXVzZSwgcmVzdW1lLCByZXNldCwgbG9nIH1cclxufVxyXG4iXX0=